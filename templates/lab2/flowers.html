{% extends "base.html" %}

{% block lab %}Лабораторная работа 2{% endblock %}

{% block main %}
    <h2>Список всех цветов ({{ flowers|length }})</h2>

    {% if flowers %}
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Название</th>
                    <th>Цена (руб.)</th>
                    <th>Действие</th>
                </tr>
            </thead>
            <tbody>
                {% for f in flowers %}
                <tr>
                    <td>{{ loop.index0 }}</td>
                    <td>{{ f.name }}</td>
                    <td>{{ f.price }}</td>
                    <td>
                        <a href="{{ url_for('lab2.flowers', flower_id=loop.index0) }}">Просмотреть</a>
                        <a href="{{ url_for('lab2.delete_flower', flower_id=loop.index0) }}"
                           onclick="return confirm('Удалить цветок {{ f.name }}?');">
                           Удалить
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <p>
            <a href="{{ url_for('lab2.clear_flowers') }}">Очистить список</a>
        </p>

    {% else %}
        <p>Список пуст.</p>
    {% endif %}

    <hr>

    <h3>Добавить новый цветок</h3>

    <form action="{{ url_for('lab2.add_flower') }}" method="post">
        <input name="name" placeholder="Название">
        <input name="price" placeholder="Цена">
        <button>Добавить</button>
    </form>

{% endblock %}